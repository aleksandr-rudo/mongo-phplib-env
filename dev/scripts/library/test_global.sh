#!/bin/sh

echo "================================================================================================================="
echo "================================================================================================================="
echo "RUNNING ON GLOBAL TESTS"

# Functions to fetch MongoDB binaries
. ../functions.sh

MONGOREPO1="mongo400"
MONGOREPO2="mongo440"
MONGOREPO3="mongo500"
MONGOREPO4="mongo506"
MONGOREPO5="mongo508"
MONGOREPO6="mongo530"
MONGOREPO7="mongo600"

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO1 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO1
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO2 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO2
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO3 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO3
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO4 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO4
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO5 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO5
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO6 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO6
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9

echo "================================================================================================================="
echo "TESTING ON MONGOSERVER: $MONGOREPO7 with flags $1 $2 $3 $4 $5 $6 $7 $8 $9"
echo "================================================================================================================="
set_mongo_server $MONGOREPO7
vendor/bin/simple-phpunit $1 $2 $3 $4 $5 $6 $7 $8 $9
